language: csharp
solution: KonSchool.sln
jobs:
  include:
    - os: linux
      dist: bionic
    - os: osx
      osx_image: xcode11.2
  allow_failures:
    - os: osx
before_install:
  - if [[ "$TRAVIS_OS_NAME" == "osx" ]]; then brew update; fi
  - curl https://dot.net/v1/dotnet-install.sh
  - bash dotnet-install.sh --version 2.1.802
branches:
  only:
  - master
mono: none
sudo: required
script:
    - dotnet restore
    - dotnet build
    - dotnet test tests/KonSchool.Tests.csproj
global:
    - DOTNET_SKIP_FIRST_TIME_EXPERIENCE=true
    - DOTNET_CLI_TELEMETRY_OPTOUT=1
